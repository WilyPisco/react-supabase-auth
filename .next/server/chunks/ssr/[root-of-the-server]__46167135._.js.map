{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///D:/PERSONALES/UNIVERSIDAD/UNIVERSIDAD%20WIENER/CURSOS/ARQUITECTURA%20TECNOL%C3%93GICA%20EN%20LA%20NUBE/react-supabase-auth-starter/src/services/supabase.ts"],"sourcesContent":["\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || supabaseUrl.includes('PON_AQUI')) {\n  alert(\"Error: La URL de Supabase no está configurada. Por favor, verificar\");\n  throw new Error(\"La URL de Supabase no está configurada.\");\n}\nif (!supabaseAnonKey || supabaseAnonKey.includes('PON_AQUI')) {\n  alert(\"Error: La clave anónima de Supabase no está configurada. Por favor, verificar\");\n  throw new Error(\"La clave anónima de Supabase no está configurada.\");\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;AACA;;AAEA,MAAM;AACN,MAAM;AAEN,IAAI,CAAC,eAAe,YAAY,QAAQ,CAAC,aAAa;IACpD,MAAM;IACN,MAAM,IAAI,MAAM;AAClB;AACA,IAAI,CAAC,mBAAmB,gBAAgB,QAAQ,CAAC,aAAa;IAC5D,MAAM;IACN,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,WAAW,CAAA,GAAA,iJAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///D:/PERSONALES/UNIVERSIDAD/UNIVERSIDAD%20WIENER/CURSOS/ARQUITECTURA%20TECNOL%C3%93GICA%20EN%20LA%20NUBE/react-supabase-auth-starter/context/AuthContext.tsx"],"sourcesContent":["\nimport React, { createContext, useState, useEffect, ReactNode } from 'react';\nimport { AuthContextType, Usuario, CredencialesLogin, CredencialesRegistro } from '../types';\nimport { supabase } from '@/src/services/supabase';\n\nexport const AuthContext = createContext<AuthContextType | null>(null);\n\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [usuario, setUsuario] = useState<Usuario | null>(null);\n  const [cargando, setCargando] = useState(true);\n\n  useEffect(() => {\n    const getSession = async () => {\n      try {\n        const { data: { session } } = await supabase.auth.getSession();\n        if (session) {\n          const user = session.user;\n          setUsuario({\n            id: user.id,\n            email: user.email!,\n            nombreCompleto: user.user_metadata.nombre_completo || 'Sin nombre',\n          });\n        }\n      } catch (error) {\n        console.error(\"Error al obtener la sesión:\", error);\n      } finally {\n        setCargando(false);\n      }\n    };\n    \n    getSession();\n\n    const { data: authListener } = supabase.auth.onAuthStateChange((_event, session) => {\n      const user = session?.user;\n      if (user) {\n        setUsuario({\n          id: user.id,\n          email: user.email!,\n          nombreCompleto: user.user_metadata.nombre_completo || 'Sin nombre',\n        });\n      } else {\n        setUsuario(null);\n      }\n      if (cargando) {\n        setCargando(false);\n      }\n    });\n\n    return () => {\n      authListener.subscription.unsubscribe();\n    };\n  }, []);\n\n  const login = async ({ email, password }: CredencialesLogin) => {\n    if (!password) throw new Error(\"La contraseña es requerida para iniciar sesión.\");\n    const { error } = await supabase.auth.signInWithPassword({ email, password });\n    if (error) throw error;\n  };\n\n  const signup = async ({ email, password, nombreCompleto }: CredencialesRegistro) => {\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: {\n          nombre_completo: nombreCompleto,\n        },\n      },\n    });\n    if (error) throw error;\n    if (data.user && !data.session) {\n        alert('¡Registro exitoso! Por favor, revisa tu correo para confirmar tu cuenta.');\n    }\n  };\n\n  const logout = async () => {\n    const { error } = await supabase.auth.signOut();\n    if (error) throw error;\n  };\n  \n  const value = { usuario, cargando, login, signup, logout };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEO,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD,EAA0B;AAE1D,MAAM,eAAkD,CAAC,EAAE,QAAQ,EAAE;IAC1E,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,UAAU;gBAC5D,IAAI,SAAS;oBACX,MAAM,OAAO,QAAQ,IAAI;oBACzB,WAAW;wBACT,IAAI,KAAK,EAAE;wBACX,OAAO,KAAK,KAAK;wBACjB,gBAAgB,KAAK,aAAa,CAAC,eAAe,IAAI;oBACxD;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,+BAA+B;YAC/C,SAAU;gBACR,YAAY;YACd;QACF;QAEA;QAEA,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,oHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YACtE,MAAM,OAAO,SAAS;YACtB,IAAI,MAAM;gBACR,WAAW;oBACT,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,gBAAgB,KAAK,aAAa,CAAC,eAAe,IAAI;gBACxD;YACF,OAAO;gBACL,WAAW;YACb;YACA,IAAI,UAAU;gBACZ,YAAY;YACd;QACF;QAEA,OAAO;YACL,aAAa,YAAY,CAAC,WAAW;QACvC;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAqB;QACzD,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;QAC/B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAAE;YAAO;QAAS;QAC3E,IAAI,OAAO,MAAM;IACnB;IAEA,MAAM,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,EAAwB;QAC7E,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YACjD;YACA;YACA,SAAS;gBACP,MAAM;oBACJ,iBAAiB;gBACnB;YACF;QACF;QACA,IAAI,OAAO,MAAM;QACjB,IAAI,KAAK,IAAI,IAAI,CAAC,KAAK,OAAO,EAAE;YAC5B,MAAM;QACV;IACF;IAEA,MAAM,SAAS;QACb,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,IAAI,OAAO,MAAM;IACnB;IAEA,MAAM,QAAQ;QAAE;QAAS;QAAU;QAAO;QAAQ;IAAO;IAEzD,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///D:/PERSONALES/UNIVERSIDAD/UNIVERSIDAD%20WIENER/CURSOS/ARQUITECTURA%20TECNOL%C3%93GICA%20EN%20LA%20NUBE/react-supabase-auth-starter/pages/_app.tsx"],"sourcesContent":["import React from 'react';\r\nimport type { AppProps } from 'next/app';\r\nimport { AuthProvider } from '@/context/AuthContext';\r\nimport '../styles/globals.css';\r\n\r\n\r\nfunction MyApp({ Component, pageProps }: AppProps) {\r\n  return (\r\n    <AuthProvider>\r\n      <Component {...pageProps} />\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default MyApp;"],"names":[],"mappings":";;;;AAEA;;;;AAIA,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAY;IAC/C,qBACE,qKAAC,gHAAA,CAAA,eAAY;kBACX,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B;uCAEe","debugId":null}}]
}